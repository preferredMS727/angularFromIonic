<div  class="page-layout simple fullwidth" fxLayout="column">
    <div class="content p-24">

        <div class="h1">
           Camera view
        </div>

        <p class="pt-16 pb-32">
           Take a photo and get ocr text
        </p>

        <div class="mb-24" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">
            <!-- REACTIVE FORM EXAMPLE -->
            <div class="mat-card mat-elevation-z4 p-24 mr-24" fxLayout="column" fxLayoutAlign="start"
                  fxFlex="50%" >
                <div class="h2 mb-24">
                    <button mat-stroked-button aria-label="Take a photo" (click)="capture()">Take a photo from camera</button>
                    <input #file type="file" accept='image/*' (change)="preview(file.files)" />
                </div>
                <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
                    <video #video class="vid" autoplay style = "width: 100%;"></video>
                </div>
            </div>
            <div class="mat-card mat-elevation-z4 p-24 mr-24" fxLayout="column" fxLayoutAlign="start"
                 fxFlex="1 0 ">
                <div class="h2 mb-24">

                </div>
                <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
                    <canvas #canvas class="vid" style = "width: 100%;display: none;"></canvas>
                    <img #image [src] = "imageSource" crossorigin>
                </div>
            </div>

        </div>
        <div class="mb-24" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">

            <div class="mat-card mat-elevation-z4 p-24 mr-24" fxLayout="column" fxLayoutAlign="start"
                 fxFlex="50%" style = "flex-grow: 1;">
                <div class="h2 mb-24">
                    <button mat-stroked-button aria-label="Get OCR TEXT" (click)="doOCR()"> Get OCR TEXT </button>
                </div>
                <div fxLayout="row" fxLayoutAlign="center center" fxFlex="1 0 auto" >
                    <img [src]="imageDestination" >
                </div>
            </div>
            <div class="mat-card mat-elevation-z4 p-24 mr-24" fxLayout="column" fxLayoutAlign="start"
                 fxFlex="1 0 auto" style = "flex-grow: 1;">
                <div class="h2 mb-24">
                    <!-- <mat-progress-bar mode="determinate" [value]="progress"></mat-progress-bar> -->
                </div>
                <div fxLayout="row" fxLayoutAlign="center center" fxFlex="1 0 auto">
                    <p style="white-space: pre;"> {{ ocrResult }}</p>
                </div>
            </div>

        </div>
    </div>
</div>